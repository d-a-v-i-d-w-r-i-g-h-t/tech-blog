{{#if dashboardComments}}

  <!-- Delete Comment Confirm Modal -->
  <div class="modal fade" id="confirmDeleteCommentModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="confirmDeleteCommentModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="confirmDeleteCommentModalLabel">Warning</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Are you sure you want to delete this post?
        </div>
        <div class="modal-footer">
          <div class="btn-group" role="group" aria-label="confirm delete button group">
            <button id="ok-delete" type="button" class="modal-button btn btn-danger" data-bs-dismiss="modal">OK</button>
            <button type="button" class="modal-button btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Unable to Delete Comment Warning Modal -->
  <div class="modal fade" id="unableToDeleteCommentModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="unableToDeleteCommentModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="unableToDeleteCommentModalLabel">Warning</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Unable to delete post. Please try again.
        </div>
        <div class="modal-footer">
          <button type="button" class="modal-button btn btn-primary" data-bs-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Unable to Save Comment Warning Modal -->
  <div class="modal fade" id="unableToSaveCommentModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="unableToSaveCommentModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="unableToSaveCommentModalLabel">Warning</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Unable to save post. Please try again.
        </div>
        <div class="modal-footer">
          <button type="button" class="modal-button btn btn-primary" data-bs-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

{{/if}}

<div
  id="comment{{id}}-card"
  class="comment-card card border-secondary-subtle border-top-0 border-start-0 border-end-0 rounded-0"
  data-comment-id="{{id}}"
  data-logged-in="{{loggedIn}}"
  data-collapse-state="true"
  data-edit-mode="false"
  data-current-text=""
>
  <div class="card-body">

  {{#if post}}
    <div class="associated-post" data-post-id="{{post.id}}">
      <div>
        <h5 class="card-title">
          {{post.title}}
        </h5>

        <div class="collapse" id="collapsePostComment{{id}}">
          <h6
            id="comment{{id}}-date"
            class="comment-date card-subtitle mb-2 text-body-tertiary"
          >
            {{formatDate date_created}}
          </h6>
          <p class="card-content mb-2">{{post.content}}</p>
          <p class="card-content text-end mb-4">
            &#8212;
            <a href="/posts/{{ post.author.username }}" data-no-collapse="true"> {{!-- clicking this link will not collapse the post --}}
              {{ post.author.username }}
            </a>
          </p>
        </div>

      </div>
    </div>
  {{else}}
    <h4 class="card-title">
      Post not available
    </h4>
  {{/if}}

    <div class="card-header-section">

      <div class="comment">
        <p class="comment-text">{{text}}</p>
        <p class="comment-date text-body-tertiary">{{formatDate date_created}}</p>

        {{#unless dashboardComments}}
          {{!-- signature block --}}
          <p class="card-content text-end pt-1">
            &#8212;
            <a href="/posts/{{ author.username }}"> {{!-- clicking this link will not collapse the post --}}
              {{ author.username }}
            </a>
          </p>
        {{/unless}}
      </div>

      {{!-- COMMENTS DASHBOARD BUTTONS --}}
      {{#if dashboardComments}}

        {{!-- COMMENT EDIT BUTTON GROUP --}}
        <div id="comment{{id}}-edit-comment-button-group" class="btn-group fade-in-out display-none" role="group">

          {{!-- SAVE POST EDIT BUTTON --}}
          <button
            type="button"
            class="save-comment-edit-button comment-button btn btn-success"
            data-no-collapse="true" {{!-- clicking this button will not collapse the post --}}
            disabled="true"
          >Save
          </button>
          
          {{!-- CANCEL POST EDIT BUTTON --}}
          <button
            type="button"
            class="cancel-comment-edit-button comment-button btn btn-outline-secondary"
            data-no-collapse="true" {{!-- clicking this button will not collapse the post --}}
            disabled="true"
          >Cancel
          </button>
          
        </div>

        {{!-- COMMENT MAIN BUTTON GROUP --}}
        <div id="comment{{id}}-button-group" class="btn-group fade-in-out" role="group">
          
          {{!-- EDIT BUTTON --}}
          <button
            type="button"
            class="edit-comment-button comment-button btn btn-warning"
            data-no-collapse="true" {{!-- clicking this button will not collapse the post --}}
            disabled="true"
          >Edit
          </button>
          
          {{!-- DELETE BUTTON --}}
          <button
            type="button"
            class="delete-comment-button comment-button btn btn-danger"
            data-no-collapse="true" {{!-- clicking this button will not collapse the post --}}
            disabled="true"
          >Delete
          </button>
          
        
        </div>
      {{/if}}

    </div>
  </div>
</div>
